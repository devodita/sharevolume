<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Company Shares Data</title><script src="https://cdn.tailwindcss.com"></script></head><body class="bg-gray-100 font-sans antialiased flex items-center justify-center min-h-screen p-4"><div class="bg-white p-8 rounded-lg shadow-lg max-w-2xl w-full"><h1 class="text-3xl font-bold text-center text-gray-800 mb-6" id="main-title">Loading Company Data...</h1><div id="loading-spinner" class="text-center p-4"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto"></div><p class="text-gray-600 mt-2">Fetching data...</p></div><div id="data-container" class="hidden"><h2 class="text-xl font-semibold text-gray-700 mb-4">Shares Outstanding for <span id="share-entity-name"></span></h2><div class="grid md:grid-cols-2 gap-6"><div class="bg-blue-50 p-6 rounded-md shadow-sm"><h3 class="text-lg font-medium text-blue-800 mb-2">Maximum Shares</h3><p class="text-gray-900 text-3xl font-bold" id="share-max-value">...</p><p class="text-gray-600 mt-1">Fiscal Year: <span id="share-max-fy">...</span></p></div><div class="bg-green-50 p-6 rounded-md shadow-sm"><h3 class="text-lg font-medium text-green-800 mb-2">Minimum Shares</h3><p class="text-gray-900 text-3xl font-bold" id="share-min-value">...</p><p class="text-gray-600 mt-1">Fiscal Year: <span id="share-min-fy">...</span></p></div></div><p class="text-center text-sm text-gray-500 mt-8">Data provided by SEC EDGAR API. Fiscal Years after 2020.</p><div class="mt-4 text-center"><a href="uid.txt" target="_blank" class="text-blue-500 hover:underline text-sm">View UID file</a></div></div><div id="error-message" class="hidden text-center text-red-600 p-4 mt-4"><p class="font-semibold">Error loading data.</p><p id="error-details"></p><p class="text-sm text-gray-500 mt-2">Please check the CIK and try again.</p></div></div><script>const DEFAULT_CIK = "0001037540";const SEC_API_BASE = "https://data.sec.gov/api/xbrl/companyconcept/CIK";const PROXY_URL_BASE = "https://api.allorigins.win/get?url=";function updateDOM(data) {document.getElementById('main-title').textContent = `${data.entityName} Shares Outstanding`;document.getElementById('share-entity-name').textContent = data.entityName;document.getElementById('share-max-value').textContent = data.max.val.toLocaleString();document.getElementById('share-max-fy').textContent = data.max.fy;document.getElementById('share-min-value').textContent = data.min.val.toLocaleString();document.getElementById('share-min-fy').textContent = data.min.fy;document.getElementById('loading-spinner').classList.add('hidden');document.getElementById('error-message').classList.add('hidden');document.getElementById('data-container').classList.remove('hidden');}function showError(message) {document.getElementById('loading-spinner').classList.add('hidden');document.getElementById('data-container').classList.add('hidden');document.getElementById('error-message').classList.remove('hidden');document.getElementById('error-details').textContent = message;document.getElementById('main-title').textContent = "Error Loading Data";document.getElementById('share-entity-name').textContent = "N/A";document.getElementById('share-max-value').textContent = "N/A";document.getElementById('share-max-fy').textContent = "N/A";document.getElementById('share-min-value').textContent = "N/A";document.getElementById('share-min-fy').textContent = "N/A";}async function fetchAndRender(cik) {document.getElementById('loading-spinner').classList.remove('hidden');document.getElementById('data-container').classList.add('hidden');document.getElementById('error-message').classList.add('hidden');document.getElementById('main-title').textContent = "Fetching Company Data...";try {const secUrl = `${SEC_API_BASE}${cik}/dei/EntityCommonStockSharesOutstanding.json`;const proxyUrl = `${PROXY_URL_BASE}${encodeURIComponent(secUrl)}`;const response = await fetch(proxyUrl, {headers: {'User-Agent': `BXP, Inc. (BXP) - ${cik} bxp.com (your.email@example.com)`}});if (!response.ok) {throw new Error(`HTTP error! status: ${response.status}`);}const proxyData = await response.json();const data = JSON.parse(proxyData.contents);const entityName = data.entityName;const sharesData = data.units?.shares || [];const filteredShares = [];for (const entry of sharesData) {if (typeof entry.val === 'number' && typeof entry.fy === 'number' && entry.fy > 2020) {filteredShares.push(entry);}}if (filteredShares.length === 0) {throw new Error("No relevant shares data found for years after 2020.");}const sortedByVal = [...filteredShares].sort((a, b) => a.val - b.val);const minShare = { val: sortedByVal[0].val, fy: sortedByVal[0].fy };const maxShare = { val: sortedByVal[sortedByVal.length - 1].val, fy: sortedByVal[sortedByVal.length - 1].fy };updateDOM({ entityName, max: maxShare, min: minShare });} catch (error) {console.error("Failed to fetch or process data:", error);showError(`Failed to load data: ${error.message}.`);}}document.addEventListener('DOMContentLoaded', () => {const params = new URLSearchParams(window.location.search);const cikParam = params.get('CIK');const targetCIK = cikParam && cikParam.length === 10 ? cikParam : DEFAULT_CIK;fetchAndRender(targetCIK);});</script></body></html>